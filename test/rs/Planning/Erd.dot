digraph ERD {
    node [shape="none", color=midnightblue, fontcolor=midnightblue labeljust="l"];
    edge [arrowhead=normal, arrowtail="dot", dir="both", arrowsize=1, color=midnightblue, fontcolor=midnightblue];
    graph [ rankdir = "LR" ];

    "menu_h1" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>menu_h1</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">name</td>
                    <td border="0" align="left">text</td>
                </tr>
            </table>
    >];

    "menu_h2" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>menu_h2</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">menu_h1_id</td>
                    <td border="0" align="left" port="menu_h1_id">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">name</td>
                    <td border="0" align="left">text</td>
                </tr>
            </table>
    >];

    "menu_items" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>menu_items</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">menu_h2_id</td>
                    <td border="0" align="left" port="menu_h2_id">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">name</td>
                    <td border="0" align="left">text</td>
                </tr>
                <tr>
                    <td border="0" align="right">description</td>
                    <td border="0" align="left">text</td>
                </tr>
                <tr>
                    <td border="0" align="right">price</td>
                    <td border="0" align="left">double precision</td>
                </tr>
                <tr>
                    <td border="0" align="right">quantity</td>
                    <td border="0" align="left">integer</td>
                </tr>
            </table>
    >];

    "users" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>users</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">email</td>
                    <td border="0" align="left">text</td>
                </tr>
                <tr>
                    <td border="0" align="right">password</td>
                    <td border="0" align="left">text</td>
                </tr>
                <tr>
                    <td border="0" align="right">role</td>
                    <td border="0" align="left">text</td>
                </tr>
                <tr>
                    <td border="0" align="right">last_login</td>
                    <td border="0" align="left">timestamp without time zone</td>
                </tr>
            </table>
    >];

    "tables" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>tables</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">name</td>
                    <td border="0" align="left">text</td>
                </tr>
                <tr>
                    <td border="0" align="right">default_seats</td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">order_id</td>
                    <td border="0" align="left" port="order_id">integer</td>
                </tr>
            </table>
    >];

    "seats" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>seats</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">table_id</td>
                    <td border="0" align="left" port="table_id">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">name</td>
                    <td border="0" align="left">text</td>
                </tr>
            </table>
    >];

    "orders" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>orders</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">open_time</td>
                    <td border="0" align="left">timestamp with time zone</td>
                </tr>
                <tr>
                    <td border="0" align="right">state</td>
                    <td border="0" align="left">text</td>
                </tr>
                <tr>
                    <td border="0" align="right">table_id</td>
                    <td border="0" align="left" port="table_id">integer</td>
                </tr>
            </table>
    >];

    "order_items" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>order_items</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">order_id</td>
                    <td border="0" align="left" port="order_id">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">seat_id</td>
                    <td border="0" align="left" port="seat_id">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">menu_item_id</td>
                    <td border="0" align="left" port="menu_item_id">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">quantity</td>
                    <td border="0" align="left">integer</td>
                </tr>
            </table>
    >];

    "order_item_alterations" [label=<
            <table border="1" style="ROUNDED" columns="*">
                <tr>
                    <td border="1" colspan="2" bgcolor="lightblue" style="ROUNDED"><b>order_item_alterations</b></td>
                </tr>
                <tr>
                    <td border="0" align="right" port="id"><b>id</b></td>
                    <td border="0" align="left">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">order_item_id</td>
                    <td border="0" align="left" port="order_item_id">integer</td>
                </tr>
                <tr>
                    <td border="0" align="right">alteration</td>
                    <td border="0" align="left">text</td>
                </tr>
            </table>
    >];

    menu_h2:menu_h1_id -> menu_h1:id [label="References"];
    menu_items:menu_h2_id -> menu_h2:id [label="References"];
    seats:table_id -> tables:id [label="References"];
    orders:table_id -> tables:id [label="References"];
    order_items:order_id -> orders:id [label="References"];
    order_items:seat_id -> seats:id [label="References"];
    order_items:menu_item_id -> menu_items:id [label="References"];
    order_item_alterations:order_item_id -> order_items:id [label="References"];
}
